@model IEnumerable<BussinessObject.Models.Ranking>
@{
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
}
@{
	Layout = "_Homelayout";
}
<link rel="stylesheet" type="text/css" href="~/css/Rank/index.css">
<style>
	.club-logo {
		width: 40px;
		height: 40px;
	}

	.Wrap {
		height: 100vh;
		overflow-y: scroll;
	}

		.Wrap::-webkit-scrollbar {
			display: none;
		}
</style>

<div class="Wrap">
	<div class="container">
@*		@if (TempData["UserRole"]?.ToString() == "Admin")
		{
			<div class="mb-3">
				<form id="updateForm" action="@Url.Action("UpdateRankings", "Ranking")" method="post">
					<button style="float:right" class="btn btn-primary" type="button" onclick="confirmUpdate()">Update</button>
				</form>
			</div>
		}*@
		<div class="mb-3">
			<form id="updateForm" action="@Url.Action("UpdateRankings", "Ranking")" method="post">
				<button style="float:right" class="btn btn-primary" type="button" onclick="confirmUpdate()">Update</button>
			</form>
		</div>

		<table class="table table-hover">
			<thead>
				<tr>
					<th>Rank</th>
					<th>Club</th>
					<th>Round</th>
					<th>P</th>
					<th>W</th>
					<th>D</th>
					<th>L</th>
					<th>Dif</th>
					<th>Point</th>
				</tr>
			</thead>
			<tbody>
				@{
					int i = 1;
				}
				@foreach (var rank in Model)
				{
					<tr>
						<td>@i</td>
						<td>
							<img src="@rank.Club.Logo" alt="Avatar" class="club-logo">
							<span class="ml-2 font-medium">@rank.Club.Name</span>
						</td>
						<td>@rank.Round</td>
						<td>@rank.MatchPlayed</td>
						<td>@rank.Win</td>
						<td>@rank.Draw</td>
						<td>@rank.Loose</td>
						<td>@rank.Difference</td>
						<td>@rank.Point</td>
					</tr>
					i++;
				}
			</tbody>

		</table>
	</div>
</div>

<script>
	function confirmUpdate() {
		if (confirm("Are you sure you want to update the rankings?")) {
			document.getElementById("updateForm").submit();
		}
	}
</script>